# DopeMAN Control Center - ä½¿ç”¨èªªæ˜

## ğŸ¯ åŠŸèƒ½èªªæ˜

Control Center æä¾›äº†ä¸€å€‹è¦–è¦ºåŒ–çš„ Dashboardï¼Œå¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰ Skills, Agents, Rules, Commands
- å³æ™‚é‡æ–°æƒææª”æ¡ˆç³»çµ±
- ç®¡ç†ç”¨æˆ¶åå¥½è¨­å®š
- æŸ¥çœ‹é–‹ç™¼å°ˆæ¡ˆç‹€æ…‹

---

## ğŸš€ å•Ÿå‹•æ–¹å¼

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å•Ÿå‹•è…³æœ¬ï¼ˆæ¨è–¦ï¼‰

```bash
cd /Users/paul_huang/AgentProjects/dopeman/commands
./start-control-center.sh
```

å•Ÿå‹•å¾Œï¼Œæœƒè‡ªå‹•ï¼š
1. åŸ·è¡Œä¸€æ¬¡å®Œæ•´æƒæ
2. å•Ÿå‹• HTTP ä¼ºæœå™¨ (http://localhost:8891)
3. é–‹å•Ÿç€è¦½å™¨è¨ªå• Dashboard

### æ–¹æ³•äºŒï¼šæ‰‹å‹•å•Ÿå‹•

```bash
cd /Users/paul_huang/AgentProjects/dopeman/commands

# 1. å…ˆåŸ·è¡Œæƒæ
python3 scan-real-data.py

# 2. å•Ÿå‹•ä¼ºæœå™¨
python3 control-center-server.py
```

---

## ğŸŒ è¨ªå• Dashboard

å•Ÿå‹•å¾Œï¼Œåœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿï¼š

```
http://localhost:8891/control-center-real.html
```

---

## ğŸ”„ é‡æ–°æƒæåŠŸèƒ½

### ä¿®æ­£å‰çš„å•é¡Œ

âŒ **èˆŠç‰ˆæœ¬**ï¼šé»æ“Šã€Œé‡æ–° Scanã€æŒ‰éˆ•åªæœƒé‡æ–°è®€å– JSON æª”æ¡ˆï¼Œä¸¦ä¸æœƒè§¸ç™¼ Python æƒæè…³æœ¬ã€‚

### ä¿®æ­£å¾Œçš„è¡Œç‚º

âœ… **æ–°ç‰ˆæœ¬**ï¼šé»æ“Šã€Œé‡æ–° Scanã€æŒ‰éˆ•æœƒï¼š

1. **å‘¼å« API** â†’ `POST /api/rescan`
2. **åŸ·è¡Œ Python è…³æœ¬** â†’ `scan-real-data.py`
3. **é‡æ–°æƒææª”æ¡ˆç³»çµ±** â†’ æ›´æ–° `control-center-real-data.json`
4. **é‡æ–°è¼‰å…¥ JSON** â†’ å¾ç¡¬ç¢Ÿè®€å–æœ€æ–°è³‡æ–™
5. **æ¸²æŸ“ç•«é¢** â†’ é¡¯ç¤ºæœ€æ–°ç‹€æ…‹

---

## ğŸ“¡ API ç«¯é»

### GET `/control-center-real.html`
- é¡¯ç¤º Dashboard é é¢

### GET `/control-center-real-data.json`
- å–å¾—æƒæè³‡æ–™ï¼ˆJSON æ ¼å¼ï¼‰

### POST `/api/rescan`
- è§¸ç™¼é‡æ–°æƒæ
- åŸ·è¡Œ `scan-real-data.py` è…³æœ¬
- å›å‚³æƒæçµæœ

**è«‹æ±‚ç¯„ä¾‹**ï¼š
```javascript
fetch('/api/rescan', { method: 'POST' })
```

**å›æ‡‰ç¯„ä¾‹ï¼ˆæˆåŠŸï¼‰**ï¼š
```json
{
  "success": true,
  "message": "æƒæå®Œæˆ",
  "output": "..."
}
```

**å›æ‡‰ç¯„ä¾‹ï¼ˆå¤±æ•—ï¼‰**ï¼š
```json
{
  "success": false,
  "message": "æƒæå¤±æ•—",
  "error": "..."
}
```

---

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Browser (Frontend)                         â”‚
â”‚  â””â”€ control-center-real.html                â”‚
â”‚     â””â”€ JavaScript (é‡æ–°æƒææŒ‰éˆ•)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ POST /api/rescan
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Python HTTP Server (Backend)               â”‚
â”‚  â””â”€ control-center-server.py                â”‚
â”‚     â””â”€ HTTPServer + Custom Handler          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ subprocess.run()
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Python Scanner (Data Collection)           â”‚
â”‚  â””â”€ scan-real-data.py                       â”‚
â”‚     â””â”€ æƒæ ~/.claude, ~/DEV, ç­‰ç›®éŒ„         â”‚
â”‚     â””â”€ ç”Ÿæˆ control-center-real-data.json   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ æª”æ¡ˆèªªæ˜

| æª”æ¡ˆ | ç”¨é€” |
|------|------|
| `control-center-real.html` | Dashboard å‰ç«¯é é¢ |
| `control-center-real-data.json` | æƒæè³‡æ–™ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰|
| `scan-real-data.py` | æƒæè…³æœ¬ï¼ˆç”Ÿæˆ JSONï¼‰|
| `control-center-server.py` | HTTP ä¼ºæœå™¨ |
| `start-control-center.sh` | å•Ÿå‹•è…³æœ¬ |

---

## ğŸ› ç–‘é›£æ’è§£

### Q: é»æ“Šã€Œé‡æ–° Scanã€æ²’æœ‰åæ‡‰ï¼Ÿ

**æª¢æŸ¥**ï¼š
1. ç¢ºèª `control-center-server.py` æ­£åœ¨é‹è¡Œ
2. é–‹å•Ÿç€è¦½å™¨ Console (F12) æŸ¥çœ‹éŒ¯èª¤è¨Šæ¯
3. ç¢ºèªç«¯å£ 8891 æ²’æœ‰è¢«å ç”¨

**è§£æ±º**ï¼š
```bash
# æª¢æŸ¥ç«¯å£
lsof -i :8891

# å¦‚æœè¢«å ç”¨ï¼Œå…ˆåœæ­¢
kill -9 <PID>

# é‡æ–°å•Ÿå‹•ä¼ºæœå™¨
./start-control-center.sh
```

### Q: æƒæè¶…æ™‚ï¼Ÿ

**åŸå› **ï¼šæƒæè…³æœ¬åŸ·è¡Œè¶…é 60 ç§’

**è§£æ±º**ï¼š
1. æ¸›å°‘æƒæç¯„åœï¼ˆä¿®æ”¹ `scan-real-data.py` ä¸­çš„ç›®éŒ„è¨­å®šï¼‰
2. å¢åŠ è¶…æ™‚æ™‚é–“ï¼ˆä¿®æ”¹ `control-center-server.py` ä¸­çš„ `timeout=60`ï¼‰

### Q: CORS éŒ¯èª¤ï¼Ÿ

**åŸå› **ï¼šå¾ `file://` å”è­°æ‰“é–‹ HTML æª”æ¡ˆ

**è§£æ±º**ï¼š
å¿…é ˆé€é HTTP Server è¨ªå•ï¼š
```
http://localhost:8891/control-center-real.html
```

**ç¦æ­¢**ç›´æ¥é›™æ“Š HTML æª”æ¡ˆé–‹å•Ÿï¼ˆæœƒæ˜¯ `file://` å”è­°ï¼‰

---

## ğŸ¯ ä½¿ç”¨æµç¨‹

1. **å•Ÿå‹•ä¼ºæœå™¨**
   ```bash
   ./start-control-center.sh
   ```

2. **é–‹å•Ÿç€è¦½å™¨**
   ```
   http://localhost:8891/control-center-real.html
   ```

3. **æŸ¥çœ‹ç•¶å‰ç‹€æ…‹**
   - Skills æ•¸é‡
   - Agents åˆ†å¸ƒ
   - é–‹ç™¼å°ˆæ¡ˆç‹€æ…‹

4. **ä¿®æ”¹ Skills æˆ–å°ˆæ¡ˆå¾Œï¼Œé»æ“Šã€Œé‡æ–° Scanã€**
   - ç­‰å¾…æƒæå®Œæˆï¼ˆç´„ 5-30 ç§’ï¼‰
   - è‡ªå‹•é‡æ–°è¼‰å…¥è³‡æ–™
   - Dashboard æ›´æ–°ç‚ºæœ€æ–°ç‹€æ…‹

---

## ğŸ“Œ æ³¨æ„äº‹é …

1. **ä¼ºæœå™¨å¿…é ˆé‹è¡Œ**
   - ã€Œé‡æ–° Scanã€åŠŸèƒ½éœ€è¦ HTTP Server
   - åœæ­¢ä¼ºæœå™¨å¾Œï¼ŒæŒ‰éˆ•æœƒå¤±æ•ˆ

2. **æƒæéœ€è¦æ™‚é–“**
   - å¤§å‹å°ˆæ¡ˆå¯èƒ½éœ€è¦ 30 ç§’ä»¥ä¸Š
   - è«‹è€å¿ƒç­‰å¾…ã€Œæƒæä¸­...ã€å®Œæˆ

3. **ç«¯å£å ç”¨**
   - é è¨­ä½¿ç”¨ç«¯å£ 8891
   - å¦‚éœ€ä¿®æ”¹ï¼Œè«‹åŒæ™‚ä¿®æ”¹ `control-center-server.py` å’Œ HTML ä¸­çš„ fetch URL

---

**ç‰ˆæœ¬**ï¼š2.0.0 (ä¿®æ­£é‡æ–°æƒæåŠŸèƒ½)
**æœ€å¾Œæ›´æ–°**ï¼š2026-02-09
